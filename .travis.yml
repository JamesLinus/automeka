language: cpp
script:
  - git submodule update --init --recursive
  - cd bin/ninja; ./bootstrap.py; cd ../..
  - ./bin/ninja/ninja
  - ./build/automeka
  - ./build/bin/meka/automeka
compiler:
  - clang
before_install:
  - sudo add-apt-repository -y "deb http://archive.ubuntu.com/ubuntu/ utopic main universe"
  - sudo add-apt-repository -y "deb http://llvm.org/apt/utopic/ llvm-toolchain-utopic main"
  - wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -
  - sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 3B4FE6ACC0B21F32
  - sudo apt-get -qq update; sudo apt-get -qq install aptitude; sudo aptitude -yq2 update
  - sudo aptitude -yq2 full-upgrade -t utopic python-dev
  - sudo aptitude -yq2 install -t utopic clang-3.6 g++-4.9 ninja-build
cache: apt
